 <%- include("_header") -%>
  
 <main class="container mt-4 mb-5">
 
     <div class="d-flex justify-content-between align-items-center mb-4">
         <div>
             <a href="/adocao" class="btn btn-outline-secondary"><i class="fas fa-arrow-left me-2"></i>Voltar ao Portal</a>
         </div>
         <div class="text-end">
             <a href="/adocao/form" class="btn btn-primary"><i class="fas fa-plus me-2"></i>Adicionar para Adoção</a>
         </div>
     </div>
 
     <div class="card shadow-sm">
         <div class="card-header">
             <h5 class="mb-0"><i class="fas fa-paw me-2"></i>Lista de PETS para Adoção</h5>
         </div>
         <div class="card-body">
             <div class="table-responsive">
                 <table class="table table-striped table-hover align-middle">
                     <thead>
                         <tr>
                             <th>Origem</th>
                             <th>Imagem</th>
                             <th>Nome</th>
                             <th>Idade</th>
                             <th>Espécie</th>
                             <th>Porte</th>
                             <th>Características</th>
                             <th class="text-center">Ações</th>
                         </tr>
                     </thead>
                     <tbody>
                         <% if (typeof model !== 'undefined' && model.length > 0) { %>
                         <% model.forEach(adocao => { %>
                         <tr>
                             <td>
                                 <% if (adocao.origem) { %>
                                     <%= new Date(adocao.origem).toLocaleDateString('pt-BR') %>
                                 <% } else { %>
                                     N/A
                                 <% } %>
                             </td>
                             <td>
                                 <div class="image-container text-center">
                                     <img class="img-thumbnail" src="/static/uploads/adocao/<%= adocao.arquivo %>"
                                         alt="Foto de <%= adocao.nome || 'pet para adoção' %>"
                                         style="max-width: 100px; max-height: 100px; object-fit: cover;" />
                                 </div>
                             </td>
                             <td><%= adocao.nome || 'Não informado' %></td>
                             <td><%= adocao.idade || 'Não informada' %></td>
                             <td><%= adocao.especie %></td>
                             <td><%= adocao.porte %></td>
                             <td><%= adocao.caracteristicas %></td>
                             <td class="text-center">
                                 <div class="d-flex flex-column flex-sm-row justify-content-center gap-2">
                                     <a href="/adotante/form/<%= adocao.id %>" class="btn btn-success btn-sm">
                                         <i class="fas fa-heart me-1"></i>Adotar
                                     </a>
 
                                     <% if (user) { %>
                                     <a href="/adocao/delete/<%= adocao.id %>/<%= adocao.arquivo %>" class="btn btn-danger btn-sm" onclick="return confirm('Tem certeza de que deseja excluir este animal da lista de adoção? Esta ação não poderá ser desfeita.');">
                                         <i class="bi bi-trash me-1"></i>Excluir
                                     </a>
                                     <% } %>
                                 </div>
                             </td>
                         </tr>
                         <% }); %>
                         <% } else { %>
                         <tr>
                             <td colspan="8" class="text-center p-4">
                                 <p class="mb-0">Nenhum PET disponível para adoção no momento.</p>
                             </td>
                         </tr>
                         <% } %>
                     </tbody>
                 </table>
             </div>
         </div>
     </div>
 </main>
 
 <%- include("_footer")-%>
