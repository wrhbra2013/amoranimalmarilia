  <%- include("_header") -%>

  <style>
     .adocao-container {
         max-width: 1400px;
         margin: 0 auto;
         padding: 20px;
     }
     
     .alert-important {
         background: linear-gradient(135deg, #fff3cd, #ffeaa7);
         border: 1px solid #ffeaa7;
         border-radius: 16px;
         padding: 25px;
         margin-bottom: 30px;
         box-shadow: 0 4px 15px rgba(255, 193, 7, 0.2);
         position: relative;
         overflow: hidden;
     }
     
     .alert-important::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 6px;
         height: 100%;
         background: linear-gradient(135deg, #f39c12, #e67e22);
     }
     
     .alert-important h5 {
         color: #d68910;
         font-weight: 700;
         margin-bottom: 15px;
         display: flex;
         align-items: center;
         gap: 10px;
         font-size: 1.3em;
     }
     
     .alert-important p {
         color: #935600;
         margin: 0;
         font-size: 1.05em;
         line-height: 1.6;
     }
     
     .page-section {
         background: var(--container-bg);
         border: 1px solid var(--border-color);
         border-radius: 16px;
         padding: 30px;
         margin-bottom: 30px;
         box-shadow: 0 4px 15px var(--container-shadow);
     }
     
     .section-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 30px;
         flex-wrap: wrap;
         gap: 20px;
     }
     
     .section-title {
         font-size: 1.8em;
         font-weight: 700;
         color: var(--text-color);
         margin: 0;
         display: flex;
         align-items: center;
         gap: 12px;
     }
     
     .btn-add-pet {
         background: linear-gradient(135deg, var(--brand-teal), var(--brand-teal-2));
         color: white;
         padding: 14px 28px;
         border: none;
         border-radius: 12px;
         font-weight: 600;
         cursor: pointer;
         transition: all 0.3s ease;
         text-decoration: none;
         display: inline-flex;
         align-items: center;
         gap: 10px;
         font-size: 1em;
         box-shadow: 0 4px 15px rgba(0, 128, 128, 0.3);
     }
     
     .btn-add-pet:hover {
         transform: translateY(-3px);
         box-shadow: 0 8px 25px rgba(0, 128, 128, 0.4);
     }
     
     .filters-section {
         background: var(--container-bg);
         border: 1px solid var(--border-color);
         border-radius: 12px;
         padding: 25px;
         margin-bottom: 30px;
         box-shadow: 0 2px 10px var(--container-shadow);
     }
     
     .filters-grid {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
         gap: 20px;
         align-items: end;
     }
     
     .filter-group {
         display: flex;
         flex-direction: column;
         gap: 8px;
     }
     
     .filter-label {
         font-weight: 600;
         color: var(--text-color);
         font-size: 0.95em;
     }
     
     .filter-select {
         padding: 12px 16px;
         border: 2px solid var(--border-color);
         border-radius: 10px;
         font-size: 1em;
         background: var(--input-bg);
         color: var(--text-color);
         cursor: pointer;
         transition: all 0.3s ease;
     }
     
     .filter-select:focus {
         outline: none;
         border-color: var(--brand-teal);
         box-shadow: 0 0 0 4px rgba(0, 128, 128, 0.1);
     }
     
     .search-input {
         padding: 12px 20px;
         border: 2px solid var(--border-color);
         border-radius: 10px;
         font-size: 1em;
         transition: all 0.3s ease;
         background: var(--input-bg);
         color: var(--text-color);
         width: 100%;
     }
     
     .search-input:focus {
         outline: none;
         border-color: var(--brand-teal);
         box-shadow: 0 0 0 4px rgba(0, 128, 128, 0.1);
     }
     
     .pets-grid {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
         gap: 30px;
         margin-bottom: 40px;
     }
     
     .pet-card {
         background: var(--container-bg);
         border: 1px solid var(--border-color);
         border-radius: 20px;
         overflow: hidden;
         transition: all 0.4s ease;
         box-shadow: 0 6px 20px var(--container-shadow);
         position: relative;
     }
     
     .pet-card::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         right: 0;
         height: 4px;
         background: linear-gradient(90deg, var(--brand-teal), var(--brand-coral));
         opacity: 0;
         transition: opacity 0.3s ease;
     }
     
     .pet-card:hover::before {
         opacity: 1;
     }
     
     .pet-card:hover {
         transform: translateY(-8px) scale(1.02);
         box-shadow: 0 12px 40px var(--container-shadow);
     }
     
     .pet-image-container {
         position: relative;
         height: 280px;
         overflow: hidden;
         background: var(--alternate-bg);
     }
     
     .pet-image {
         width: 100%;
         height: 100%;
         object-fit: cover;
         transition: transform 0.4s ease;
     }
     
     .pet-card:hover .pet-image {
         transform: scale(1.1);
     }
     
     .pet-badge {
         position: absolute;
         top: 15px;
         right: 15px;
         background: rgba(0, 0, 0, 0.7);
         color: white;
         padding: 8px 16px;
         border-radius: 25px;
         font-size: 0.85em;
         font-weight: 600;
         backdrop-filter: blur(10px);
         display: flex;
         align-items: center;
         gap: 5px;
     }
     
     .pet-info {
         padding: 25px;
     }
     
     .pet-header {
         display: flex;
         justify-content: space-between;
         align-items: start;
         margin-bottom: 20px;
     }
     
     .pet-name {
         font-size: 1.6em;
         font-weight: 700;
         color: var(--text-color);
         margin: 0;
         line-height: 1.2;
     }
     
     .pet-date {
         font-size: 0.85em;
         color: var(--text-muted);
         background: var(--alternate-bg);
         padding: 6px 12px;
         border-radius: 8px;
         white-space: nowrap;
     }
     
     .pet-details {
         display: grid;
         grid-template-columns: repeat(2, 1fr);
         gap: 15px;
         margin-bottom: 20px;
     }
     
     .detail-item {
         display: flex;
         align-items: center;
         gap: 10px;
         padding: 12px;
         background: var(--alternate-bg);
         border-radius: 10px;
         transition: all 0.2s ease;
     }
     
     .detail-item:hover {
         background: var(--hover-bg);
         transform: translateY(-2px);
     }
     
     .detail-icon {
         width: 32px;
         height: 32px;
         border-radius: 8px;
         display: flex;
         align-items: center;
         justify-content: center;
         color: white;
         font-size: 0.9em;
         flex-shrink: 0;
     }
     
     .icon-age { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
     .icon-specie { background: linear-gradient(135deg, #a8edea, #fed6e3); }
     .icon-size { background: linear-gradient(135deg, #d299c2, #fef9d7); }
     .icon-traits { background: linear-gradient(135deg, #89f7fe, #66a6ff); }
     
     .detail-text {
         flex: 1;
     }
     
     .detail-label {
         font-size: 0.75em;
         color: var(--text-muted);
         margin-bottom: 2px;
     }
     
     .detail-value {
         font-weight: 600;
         color: var(--text-color);
         font-size: 0.95em;
     }
     
     .pet-description {
         background: var(--alternate-bg);
         padding: 15px;
         border-radius: 10px;
         margin-bottom: 20px;
         border-left: 4px solid var(--brand-teal);
     }
     
     .pet-description p {
         margin: 0;
         color: var(--text-color);
         line-height: 1.6;
         font-size: 0.95em;
     }
     
     .pet-actions {
         display: flex;
         gap: 12px;
     }
     
     .btn-pet-action {
         flex: 1;
         padding: 14px 20px;
         border: none;
         border-radius: 12px;
         font-weight: 600;
         cursor: pointer;
         transition: all 0.3s ease;
         text-decoration: none;
         display: inline-flex;
         align-items: center;
         justify-content: center;
         gap: 8px;
         font-size: 0.95em;
     }
     
     .btn-adopt {
         background: linear-gradient(135deg, var(--brand-coral), var(--brand-coral-2));
         color: white;
         box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
     }
     
     .btn-adopt:hover {
         transform: translateY(-2px);
         box-shadow: 0 8px 25px rgba(220, 53, 69, 0.4);
     }
     
     .btn-delete {
         background: linear-gradient(135deg, #6c757d, #495057);
         color: white;
         box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
     }
     
     .btn-delete:hover {
         transform: translateY(-2px);
         box-shadow: 0 8px 25px rgba(108, 117, 125, 0.4);
     }
     
     .empty-state {
         text-align: center;
         padding: 80px 20px;
         background: var(--container-bg);
         border: 1px solid var(--border-color);
         border-radius: 20px;
         margin: 40px 0;
     }
     
     .empty-icon {
         font-size: 5em;
         color: var(--text-muted);
         margin-bottom: 25px;
     }
     
     .empty-title {
         font-size: 1.8em;
         color: var(--text-color);
         margin-bottom: 15px;
         font-weight: 700;
     }
     
     .empty-description {
         color: var(--text-muted);
         margin-bottom: 35px;
         font-size: 1.1em;
         line-height: 1.6;
     }
     
     .floating-add-btn {
         position: fixed;
         bottom: 30px;
         right: 30px;
         width: 65px;
         height: 65px;
         border-radius: 50%;
         background: linear-gradient(135deg, var(--brand-teal), var(--brand-teal-2));
         color: white;
         border: none;
         cursor: pointer;
         box-shadow: 0 8px 25px rgba(0, 128, 128, 0.4);
         transition: all 0.3s ease;
         z-index: 1000;
         display: flex;
         align-items: center;
         justify-content: center;
         font-size: 1.8em;
         text-decoration: none;
     }
     
     .floating-add-btn:hover {
         transform: scale(1.1) rotate(90deg);
         box-shadow: 0 12px 35px rgba(0, 128, 128, 0.5);
     }
     
     @media (max-width: 768px) {
         .pets-grid {
             grid-template-columns: 1fr;
         }
         
         .filters-grid {
             grid-template-columns: 1fr;
         }
         
         .section-header {
             flex-direction: column;
             align-items: stretch;
         }
         
         .pet-details {
             grid-template-columns: 1fr;
         }
         
         .floating-add-btn {
             width: 55px;
             height: 55px;
             bottom: 20px;
             right: 20px;
         }
     }
 </style>

 <div class="adocao-container">
     <!-- Alerta Importante -->
     <div class="alert-important">
         <h5><i class="fas fa-exclamation-circle"></i>Importante</h5>
         <p>O Serviço de Adoção é realizado para o bem-estar do PET, com total responsabilidade do adotante. Cada adoção representa uma nova chance de felicidade tanto para o animal quanto para quem o adota.</p>
     </div>
     
     <!-- Seção Principal -->
     <div class="page-section">
         <div class="section-header">
             <h1 class="section-title">
                 <i class="fas fa-paw"></i>
                 Pets para Adoção
             </h1>
             <a href="/adocao/form" class="btn-add-pet">
                 <i class="fas fa-plus-circle"></i>
                 Adicionar Pet
             </a>
         </div>
         
         <!-- Filtros (se houver pets) -->
         <% if (typeof model !== 'undefined' && model.length > 2) { %>
         <div class="filters-section">
             <div class="filters-grid">
                 <div class="filter-group">
                     <label class="filter-label">Buscar por nome</label>
                     <input type="text" id="searchInput" class="search-input" placeholder="Digite o nome do pet..." onkeyup="filterPets()">
                 </div>
                 <div class="filter-group">
                     <label class="filter-label">Espécie</label>
                     <select id="especieFilter" class="filter-select" onchange="filterPets()">
                         <option value="">Todas as espécies</option>
                         <option value="cachorro">Cachorro</option>
                         <option value="gato">Gato</option>
                         <option value="outro">Outro</option>
                     </select>
                 </div>
                 <div class="filter-group">
                     <label class="filter-label">Porte</label>
                     <select id="porteFilter" class="filter-select" onchange="filterPets()">
                         <option value="">Todos os portes</option>
                         <option value="pequeno">Pequeno</option>
                         <option value="medio">Médio</option>
                         <option value="grande">Grande</option>
                     </select>
                 </div>
             </div>
         </div>
         <% } %>
         
         <!-- Grid de Pets -->
         <% if (typeof model !== 'undefined' && model.length > 0) { %>
         <div class="pets-grid" id="petsGrid">
             <% model.forEach(adocao => { %>
             <div class="pet-card" data-nome="<%= adocao.nome ? adocao.nome.toLowerCase() : '' %>" data-especie="<%= adocao.especie ? adocao.especie.toLowerCase() : '' %>" data-porte="<%= adocao.porte ? adocao.porte.toLowerCase() : '' %>">
                 <div class="pet-image-container">
                     <img class="pet-image" src="/static/uploads/adocao/<%= adocao.arquivo %>" alt="<%= adocao.nome || 'Pet para adoção' %>">
                     <div class="pet-badge">
                         <i class="fas fa-heart"></i>
                         Disponível
                     </div>
                 </div>
                 
                 <div class="pet-info">
                     <div class="pet-header">
                         <h3 class="pet-name"><%= adocao.nome || 'Amiguinho' %></h3>
                         <% if (adocao.origem) { %>
                         <div class="pet-date">
                             <i class="fas fa-calendar-alt me-1"></i>
                             <%= new Date(adocao.origem).toLocaleDateString('pt-BR') %>
                         </div>
                         <% } %>
                     </div>
                     
                     <div class="pet-details">
                         <div class="detail-item">
                             <div class="detail-icon icon-age">
                                 <i class="fas fa-birthday-cake"></i>
                             </div>
                             <div class="detail-text">
                                 <div class="detail-label">Idade</div>
                                 <div class="detail-value"><%= adocao.idade || 'Não informada' %></div>
                             </div>
                         </div>
                         
                         <div class="detail-item">
                             <div class="detail-icon icon-specie">
                                 <i class="fas fa-dog"></i>
                             </div>
                             <div class="detail-text">
                                 <div class="detail-label">Espécie</div>
                                 <div class="detail-value"><%= adocao.especie || 'Não informada' %></div>
                             </div>
                         </div>
                         
                         <div class="detail-item">
                             <div class="detail-icon icon-size">
                                 <i class="fas fa-ruler-vertical"></i>
                             </div>
                             <div class="detail-text">
                                 <div class="detail-label">Porte</div>
                                 <div class="detail-value"><%= adocao.porte || 'Não informado' %></div>
                             </div>
                         </div>
                         
                         <div class="detail-item">
                             <div class="detail-icon icon-traits">
                                 <i class="fas fa-star"></i>
                             </div>
                             <div class="detail-text">
                                 <div class="detail-label">Características</div>
                                 <div class="detail-value"><%= adocao.caracteristicas || 'Não informadas' %></div>
                             </div>
                         </div>
                     </div>
                     
                     <% if (adocao.caracteristicas && adocao.caracteristicas.trim() !== '') { %>
                     <div class="pet-description">
                         <p><%= adocao.caracteristicas %></p>
                     </div>
                     <% } %>
                     
                     <div class="pet-actions">
                         <a href="/adotante/form/<%= adocao.id %>" class="btn-pet-action btn-adopt">
                             <i class="fas fa-heart"></i>
                             Adotar
                         </a>
                         
                         <% if (user) { %>
                         <button class="btn-pet-action btn-delete" onclick="confirmDelete('<%= adocao.id %>', '<%= adocao.arquivo %>', '<%= adocao.nome || 'este pet' %>')">
                             <i class="fas fa-trash"></i>
                             Excluir
                         </button>
                         <% } %>
                     </div>
                 </div>
             </div>
             <% }); %>
         </div>
         <% } else { %>
         <!-- Estado Vazio -->
         <div class="empty-state">
             <div class="empty-icon">
                 <i class="fas fa-dog"></i>
             </div>
             <h2 class="empty-title">Nenhum Pet Disponível</h2>
             <p class="empty-description">
                 No momento não temos pets disponíveis para adoção. <br>
                 Que tal ajudar um amiguinho encontrando um lar amoroso?
             </p>
             <a href="/adocao/form" class="btn-add-pet" style="font-size: 1.1em; padding: 16px 32px;">
                 <i class="fas fa-heart me-2"></i>
                 Adicionar um Pet
             </a>
         </div>
         <% } %>
     </div>
 </div>
 
 <!-- Botão Flutuante para Mobile -->
 <a href="/adocao/form" class="floating-add-btn" title="Adicionar Pet">
     <i class="fas fa-plus"></i>
 </a>

 <script>
 function filterPets() {
     const searchTerm = document.getElementById('searchInput').value.toLowerCase();
     const especieFilter = document.getElementById('especieFilter').value.toLowerCase();
     const porteFilter = document.getElementById('porteFilter').value.toLowerCase();
     const cards = document.querySelectorAll('.pet-card');
     
     cards.forEach(card => {
         const nome = card.dataset.nome;
         const especie = card.dataset.especie;
         const porte = card.dataset.porte;
         
         const matchesSearch = !searchTerm || nome.includes(searchTerm);
         const matchesEspecie = !especieFilter || especie.includes(especieFilter);
         const matchesPorte = !porteFilter || porte.includes(porteFilter);
         
         if (matchesSearch && matchesEspecie && matchesPorte) {
             card.style.display = '';
             card.style.animation = 'fadeIn 0.5s ease';
         } else {
             card.style.display = 'none';
         }
     });
     
     updateEmptyState();
 }
 
 function updateEmptyState() {
     const visibleCards = document.querySelectorAll('.pet-card:not([style*="display: none"])');
     const grid = document.getElementById('petsGrid');
     
     if (visibleCards.length === 0 && grid) {
         if (!document.getElementById('noResults')) {
             const noResults = document.createElement('div');
             noResults.id = 'noResults';
             noResults.className = 'empty-state';
             noResults.innerHTML = `
                 <div class="empty-icon">
                     <i class="fas fa-search"></i>
                 </div>
                 <h2 class="empty-title">Nenhum Pet Encontrado</h2>
                 <p class="empty-description">
                     Tente ajustar os filtros para encontrar o pet perfeito para você.
                 </p>
             `;
             grid.appendChild(noResults);
         }
     } else {
         const noResults = document.getElementById('noResults');
         if (noResults) {
             noResults.remove();
         }
     }
 }
 
 function confirmDelete(id, arquivo, nome) {
     if (confirm(`Tem certeza que deseja excluir "${nome}" da lista de adoção?\n\nEsta ação não poderá ser desfeita.`)) {
         window.location.href = `/delete/adocao/${id}/${arquivo}`;
     }
 }
 
 // Animação de fade-in
 const style = document.createElement('style');
 style.textContent = `
     @keyframes fadeIn {
         from { opacity: 0; transform: translateY(20px); }
         to { opacity: 1; transform: translateY(0); }
     }
 `;
 document.head.appendChild(style);
 
 document.addEventListener('DOMContentLoaded', function() {
     // Foco automático no campo de busca se existir
     const searchInput = document.getElementById('searchInput');
     if (searchInput) {
         searchInput.focus();
     }
 });
 </script>

 <%- include("_footer")-%>
 